{"remainingRequest":"/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/node_modules/thread-loader/dist/cjs.js!/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/node_modules/babel-loader/lib/index.js!/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/src/views/user/Survey.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/src/views/user/Survey.vue","mtime":1655265551217},{"path":"/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/babel.config.js","mtime":1654876133000},{"path":"/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/node_modules/cache-loader/dist/cjs.js","mtime":1655263279431},{"path":"/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/node_modules/thread-loader/dist/cjs.js","mtime":1655263279400},{"path":"/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/node_modules/babel-loader/lib/index.js","mtime":1655263279743},{"path":"/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/node_modules/cache-loader/dist/cjs.js","mtime":1655263279431},{"path":"/Users/ingjuliovasquez/Documents/Proyectos/encuestas_personales/node_modules/vue-loader/lib/index.js","mtime":1655263279849}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2luZ2p1bGlvdmFzcXVlei9Eb2N1bWVudHMvUHJveWVjdG9zL2VuY3Vlc3Rhc19wZXJzb25hbGVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2luZ2p1bGlvdmFzcXVlei9Eb2N1bWVudHMvUHJveWVjdG9zL2VuY3Vlc3Rhc19wZXJzb25hbGVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBjb2xsZWN0aW9uLCBnZXREb2MsIGFkZERvYywgdXBkYXRlRG9jLCBkb2MgfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsic3VydmV5SWQiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VydmV5OiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIGN1cnA6ICIiLAogICAgICAgIGZlZGVyYWxFbnRpdHk6ICIiLAogICAgICAgIHBob25lOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnN1cnZleUlkKSB0aGlzLmVkaXRTdXJ2ZXkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZFN1cnZleTogZnVuY3Rpb24gYWRkU3VydmV5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdmFsaWRhdGUsIHJlc2V0Rm9ybTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy52YWxpZGF0ZUZpZWxkcygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB2YWxpZGF0ZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJlc2V0Rm9ybSA9IHsKICAgICAgICAgICAgICAgICAgbmFtZTogIiIsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiAiIiwKICAgICAgICAgICAgICAgICAgY3VycDogIiIsCiAgICAgICAgICAgICAgICAgIGZlZGVyYWxFbnRpdHk6ICIiLAogICAgICAgICAgICAgICAgICBwaG9uZTogIiIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZERvYyhjb2xsZWN0aW9uKHdpbmRvdy5kYiwgInN1cnZleXMiKSwgX3RoaXMuc3VydmV5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnN1Ym1pdEVtYWlsKCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfdGhpcy5zdXJ2ZXkgPSByZXNldEZvcm07CgogICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMuZW5jdWVzdGEucmVzZXQoKTsKCiAgICAgICAgICAgICAgICB3aW5kb3cuU3dhbC5maXJlKHdpbmRvdy5Td2FsU3RvcmUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgYWRkaW5nIGRvY3VtZW50OiAiLCBfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzUsIDE1XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBlZGl0U3VydmV5OiBmdW5jdGlvbiBlZGl0U3VydmV5KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBzdXJ2ZXk7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXREb2MoZG9jKHdpbmRvdy5kYiwgInN1cnZleXMiLCBfdGhpczIuc3VydmV5SWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgc3VydmV5ID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczIuc3VydmV5ID0gc3VydmV5LmRhdGEoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlU3VydmV5OiBmdW5jdGlvbiB1cGRhdGVTdXJ2ZXkoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHZhbGlkYXRlOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnZhbGlkYXRlRmllbGRzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHZhbGlkYXRlID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRG9jKGRvYyh3aW5kb3cuZGIsICJzdXJ2ZXlzIiwgX3RoaXMzLnN1cnZleUlkKSwgX3RoaXMzLnN1cnZleSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzMy4kcm91dGVyLnB1c2goIi9zdXJ2ZXlzIik7CgogICAgICAgICAgICAgICAgd2luZG93LlN3YWwuZmlyZSh3aW5kb3cuU3dhbFVwZGF0ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDQpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgdXBkYXRpbmcgZG9jdW1lbnQ6ICIsIF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbNCwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHZhbGlkYXRlRmllbGRzOiBmdW5jdGlvbiB2YWxpZGF0ZUZpZWxkcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kcmVmcy5lbmN1ZXN0YS52YWxpZGF0ZSgpLnRoZW4oZnVuY3Rpb24gKHN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0NC5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3VibWl0RW1haWw6IGZ1bmN0aW9uIHN1Ym1pdEVtYWlsKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBmb3JtRGF0YTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gTWFrZSBGb3JtIERhdGEKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7IC8vIFNldCBGb3JtIERhdGEgVmFsdWVzCgogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJuYW1lIiwgX3RoaXM1LnN1cnZleS5uYW1lKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZW1haWwiLCBfdGhpczUuc3VydmV5LmVtYWlsKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgicGhwL2Zvcm0ucGhwIiwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AAEA;EACAA,mBADA;EAEAC,IAFA,kBAEA;IACA;MACAC;QACAC,QADA;QAEAC,SAFA;QAGAC,QAHA;QAIAC,iBAJA;QAKAC;MALA;IADA;EASA,CAZA;EAaAC,OAbA,qBAaA;IACA;EACA,CAfA;EAgBAC;IACAC,SADA,uBACA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,sBADA;;cAAA;gBACAC,QADA;;gBAAA,KAGAA,QAHA;kBAAA;kBAAA;gBAAA;;gBAIAC,SAJA,GAIA;kBACAT,QADA;kBAEAC,SAFA;kBAGAC,QAHA;kBAIAC,iBAJA;kBAKAC;gBALA,CAJA;gBAAA;gBAAA;gBAAA,OAaAM,sDAbA;;cAAA;gBAAA;gBAAA,OAcA,mBAdA;;cAAA;gBAgBA;;gBAEA;;gBAEAC;gBApBA;gBAAA;;cAAA;gBAAA;gBAAA;gBAsBAC;;cAtBA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAyBA,CA1BA;IA2BAC,UA3BA,wBA2BA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC,kDADA;;cAAA;gBACAf,MADA;gBAEA;;cAFA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA,CA9BA;IA+BAgB,YA/BA,0BA+BA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,uBADA;;cAAA;gBACAP,QADA;;gBAAA,KAGAA,QAHA;kBAAA;kBAAA;gBAAA;;gBAAA;gBAAA;gBAAA,OAKAQ,UACAC,0CADA,EAEA,aAFA,CALA;;cAAA;gBAUA;;gBAEAN;gBAZA;gBAAA;;cAAA;gBAAA;gBAAA;gBAcAC;;cAdA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAiBA,CAhDA;IAiDAM,cAjDA,4BAiDA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACA;gBACA,CAFA,CADA;;cAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA,CArDA;IAsDAC,WAtDA,yBAsDA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACAC,QAFA,GAEA,cAFA,EAIA;;gBACAA;gBACAA;gBANA;gBAAA,OAQAC;kBAAAC;kBAAAC;gBAAA,EARA;;cAAA;gBAAA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IASA;EA/DA;AAhBA","names":["props","data","survey","name","email","curp","federalEntity","phone","mounted","methods","addSurvey","validate","resetForm","addDoc","window","console","editSurvey","getDoc","updateSurvey","updateDoc","doc","validateFields","submitEmail","formData","fetch","method","body"],"sourceRoot":"src/views/user","sources":["Survey.vue"],"sourcesContent":["<template>\n  <div class=\"survey\">\n    <ValidationObserver ref=\"encuesta\">\n      <form\n        class=\"questions\"\n        @submit.prevent=\"surveyId ? updateSurvey() : addSurvey()\"\n      >\n        <h1>Encuestas Personales</h1>\n        <ValidationProvider\n          name=\"Nombre\"\n          rules=\"required|alpha_spaces\"\n          v-slot=\"{ errors }\"\n        >\n          <div class=\"field\">\n            <label for=\"\" class=\"required\"> Escribe tu nombre completo </label>\n            <input type=\"text\" v-model=\"survey.name\" />\n            <small class=\"text-danger\" v-if=\"errors.length\">\n              {{ errors[0] }}\n            </small>\n          </div>\n        </ValidationProvider>\n\n        <ValidationProvider\n          name=\"Email\"\n          rules=\"required|email\"\n          v-slot=\"{ errors }\"\n        >\n          <div class=\"field\">\n            <label for=\"\" class=\"required\"> Escribe tu correo </label>\n            <input type=\"email\" v-model=\"survey.email\" />\n            <small class=\"text-danger\" v-if=\"errors.length\">\n              {{ errors[0] }}\n            </small>\n          </div>\n        </ValidationProvider>\n\n        <ValidationProvider\n          name=\"Curp\"\n          rules=\"required|alpha_num\"\n          v-slot=\"{ errors }\"\n        >\n          <div class=\"field\">\n            <label for=\"\" class=\"required\">Escribe tu CURP</label>\n            <input type=\"text\" v-model=\"survey.curp\" />\n            <small class=\"text-danger\" v-if=\"errors.length\">\n              {{ errors[0] }}\n            </small>\n          </div>\n        </ValidationProvider>\n\n        <ValidationProvider\n          name=\"Entidad federativa\"\n          rules=\"required\"\n          v-slot=\"{ errors }\"\n        >\n          <div class=\"field\">\n            <label for=\"\" class=\"required\"\n              >Entidad federativa de Residencia</label\n            >\n            <select v-model=\"survey.federalEntity\">\n              <option value=\"Veracruz\" selected>\n                Veracruz\n              </option>\n                <option value=\"Nuevo León\" selected>\n                Nuevo León\n              </option>\n                <option value=\"Puebla\" selected>\n                Puebla\n              </option>\n            </select>\n            <small class=\"text-danger\" v-if=\"errors.length\">\n              {{ errors[0] }}\n            </small>\n          </div>\n        </ValidationProvider>\n\n        <ValidationProvider\n          name=\"Numero de contacto\"\n          rules=\"required|numeric|min:10|max:10\"\n          v-slot=\"{ errors }\"\n        >\n          <div class=\"field\">\n            <label for=\"\" class=\"required\">Numero de contacto</label>\n            <input type=\"text\" v-model=\"survey.phone\" />\n            <small class=\"text-danger\" v-if=\"errors.length\">\n              {{ errors[0] }}\n            </small>\n          </div>\n        </ValidationProvider>\n\n        <div v-if=\"!surveyId\">\n          <button class=\"btn-pm\">Registrar encuesta</button>\n        </div>\n        <div v-else>\n          <button class=\"btn-pm btn-udt\">Actualizar encuesta</button>\n          <router-link to=\"/surveys\" class=\"btn-dg btn-link\">\n            Cancelar\n          </router-link>\n        </div>\n      </form>\n    </ValidationObserver>\n  </div>\n</template>\n\n<script>\nimport { collection, getDoc, addDoc, updateDoc, doc } from \"firebase/firestore\";\n\nexport default {\n  props: [\"surveyId\"],\n  data() {\n    return {\n      survey: {\n        name: \"\",\n        email: \"\",\n        curp: \"\",\n        federalEntity: \"\",\n        phone: \"\",\n      },\n    };\n  },\n  mounted() {\n    if (this.surveyId) this.editSurvey();\n  },\n  methods: {\n    async addSurvey() {\n      const validate = await this.validateFields();\n\n      if (validate) {\n        const resetForm = {\n          name: \"\",\n          email: \"\",\n          curp: \"\",\n          federalEntity: \"\",\n          phone: \"\",\n        };\n\n        try {\n          await addDoc(collection(window.db, \"surveys\"), this.survey);\n          await this.submitEmail();\n\n          this.survey = resetForm;\n\n          this.$refs.encuesta.reset();\n\n          window.Swal.fire(window.SwalStore);\n        } catch (e) {\n          console.error(\"Error adding document: \", e);\n        }\n      }\n    },\n    async editSurvey() {\n      const survey = await getDoc(doc(window.db, \"surveys\", this.surveyId));\n      this.survey = survey.data();\n    },\n    async updateSurvey() {\n      const validate = await this.validateFields();\n\n      if (validate) {\n        try {\n          await updateDoc(\n            doc(window.db, \"surveys\", this.surveyId),\n            this.survey\n          );\n\n          this.$router.push(\"/surveys\");\n\n          window.Swal.fire(window.SwalUpdate);\n        } catch (e) {\n          console.error(\"Error updating document: \", e);\n        }\n      }\n    },\n    async validateFields() {\n      return await this.$refs.encuesta.validate().then((success) => {\n        return success;\n      });\n    },\n    async submitEmail() {\n      // Make Form Data\n      let formData = new FormData();\n\n      // Set Form Data Values\n      formData.append(\"name\", this.survey.name);\n      formData.append(\"email\", this.survey.email);\n\n      return await fetch(\"php/form.php\", { method: \"POST\", body: formData });\n    },\n  },\n};\n</script>\n\n"]}]}